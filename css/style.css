:root {
    --bg: #f8df98;
    --grid: #FFF;
    --text: #e6e9f5;
    --muted: #216a61;
    --now: #d45c4e;
    --card: #101834;
    --labelWidth: 64px;
  }

  * { box-sizing: border-box; }
  html, body { height: 100%; }
  body {
    margin: 0;
    background: var(--bg);
    color: var(--text);
    font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  }

  .page { height: 250dvh; width: 70dvw; padding: 24px clamp(12px, 2vw, 32px); display: grid; grid-template-rows: auto 1fr; gap: 16px; }

  header { 
    position: sticky; 
    top: 0; 
    z-index: 1000; 
    margin-top: -24px; 
    background: #d45c4e; 
    padding: 32px; 
    padding-bottom: 24px; 
    display: flex; 
    align-items: center; 
    gap: 16px; 
  }
  header h1 { 
    margin: 0; 
    font-size: clamp(18px, 2.6vw, 34px); 
    letter-spacing: .4px; 
  }
  header .sub { 
    margin-left: auto; 
    text-align: right; 
    color: var(--text); 
    font-size: clamp(12px, 1.4vw, 28px); 
    font-family: "Raleway", sans-serif; 
    font-optical-sizing: auto; 
    font-weight: 800; 
    font-style: normal;
  }
  header .clock { 
    color: var(--text); 
    font-weight: 700; 
    padding-top: -20px;
    font-size: clamp(28px, 4.8vw, 48px); 
    letter-spacing: .5px; 
  }
  header .date { 
    color: var(--text); 
    font-size: clamp(12px, 1.4vw, 16px); 
  }
  header .brand { 
    display: none; 
    height: var(--logoH, clamp(28px, 5vw, 56px)); 
    max-width: 50vw; 
    object-fit: contain; 
  }
  header.has-logo .brand { display: block; }
  header.has-logo .title-text { display: none; }

  .board { position: relative; background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01)); box-shadow: inset 0 1px 0 rgba(255,255,255,.06), var(--shadow); overflow: hidden; }

  /* Grid */
  .grid { position: absolute; inset: 0; pointer-events: none; background-image: linear-gradient(to bottom, var(--grid) 1px, transparent 1px); background-size: 100% var(--hourHeight); }

  .labels { position: absolute; margin-top: 8px; inset: 0; pointer-events: none; display: grid; grid-template-rows: repeat(var(--hours), var(--hourHeight)); }
  .labels .label { position: relative; padding-left: var(--labelWidth); display: flex; align-items: flex-start; color: var(--muted); font-size: clamp(10px, 1.2vw, 13px); transform: translateY(-.55em); }
  .labels .label::before { content: attr(data-time); position: absolute; left: 8px; top: 0; font-size: clamp(15px, 1.8vw, 18px); color: var(--muted); }

  /* Events */
  .events { position: absolute; inset: 0; }
  .event { position: absolute; border-radius: 14px; padding: 4px 12px; display: flex; flex-direction: column; gap: 6px; background: var(--card); border: 1px solid rgba(255,255,255,.08); box-shadow: var(--shadow); overflow: hidden; }
  .event .title { font-weight: 700; font-size: clamp(12px, 1.6vw, 18px); }
  .event .meta { color: var(--grid); font-size: clamp(10px, 1.3vw, 13px); margin-top: -8px;}

  /* Now line */
  .now { position: absolute; left: 0; right: 0; height: 2px; background: var(--now); box-shadow: 0 0 12px rgba(255,204,0,.7); }
  .now .dot { position: absolute; left: calc(8px + var(--labelWidth)); top: -4px; width: 10px; height: 10px; border-radius: 50%; background: var(--now); box-shadow: 0 0 10px rgba(255,204,0,.9); }

  .legend { position: fixed; right: 10px; bottom: 10px; display: flex; gap: 10px; flex-wrap: wrap; }
  .legend .key { display: inline-flex; align-items: center; gap: 6px; color: var(--muted); font-size: 12px; background: rgba(255,255,255,.03); padding: 6px 8px; border-radius: 999px; border: 1px solid rgba(255,255,255,.06); }
  .legend .swatch { width: 10px; height: 10px; border-radius: 2px; box-shadow: inset 0 0 0 1px rgba(0,0,0,.25); }

  .board { --hourHeight: min(max(90px, 9vh), 150px); }
